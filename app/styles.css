:root{
  --bg:#0b0f18; --fg:#e7eefb; --muted:#9fb0c8;
  --card:#111827; --card-2:#0f172a; --border:#23324d;
  --accent:#22d3ee; --accent-ink:#002a32;
}
:root, .dark {
  --tw-transition-colors: color 150ms ease, background-color 150ms ease, border-color 150ms ease, fill 150ms ease, stroke 150ms ease;
}
* { transition: var(--tw-transition-colors); }
:root.light{
  --bg:#f7fafc; --fg:#0b1526; --muted:#5a6b84;
  --card:#ffffff; --card-2:#f2f6fb; --border:#e6eaf0;
  --accent:#0ea5e9; --accent-ink:#002a32;
}
body[data-role="doctor"] { --accent:#7c3aed; }
:root.light body[data-role="doctor"]{ --accent:#7c3aed; }

/* Base */
*{ box-sizing:border-box }
html,body{ height:100%; margin:0; padding:0 }
body{
  background:var(--bg); color:var(--fg);
  font:16px/1.55 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Layout */
.app{ display:flex; min-height:100vh }
.sidebar{
  width:100%; padding:14px;
  background:var(--card-2); display:flex; flex-direction:column; gap:10px;
}
.sidebar .title{ font-weight:700; letter-spacing:.2px; margin-bottom:2px }
.sidebar .group{ display:flex; flex-direction:column; gap:8px }
.sidebar .item{
  display:flex; align-items:center; gap:8px;
  padding:10px 10px; border:1px solid var(--border); border-radius:12px;
  background:transparent; color:inherit; cursor:pointer;
}
.sidebar .item:hover{ background:rgba(255,255,255,.04) }
.sidebar input{
  width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px;
  background:transparent; color:inherit; outline:none;
}

.main{ flex:1; display:flex; flex-direction:column; }
.header{
  height:56px; border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between; padding:0 18px;
  backdrop-filter:saturate(120%) blur(6px);
  background:var(--card-2);
}
.wrap{ max-width:860px; margin:0 auto; width:100%; padding:0 18px; flex:1; display:flex; flex-direction:column }

.item{
  display:flex; align-items:center; gap:8px; padding:8px 10px;
  border:1px solid var(--border); border-radius:12px; background:var(--card-2);
}
.item:active{ transform:translateY(1px) }

/* Hero */
.hero{ margin:auto; max-width:720px; text-align:center; }
.hero h1{ margin:10px 0 6px; font-size:36px; letter-spacing:.2px }
.hero p{ color:var(--muted); margin:0 0 20px }

/* Chat area */
.chat{ flex:1; overflow:auto; padding:22px 0; }
.msg{ display:flex; gap:12px; margin:14px 0; }
.msg .avatar{
  width:28px; height:28px; border-radius:50%; background:var(--card-2);
  display:flex; align-items:center; justify-content:center; font-size:12px; color:var(--muted);
  border:1px solid var(--border);
}
.msg .bubble{
  border:1px solid var(--border); background:var(--card); border-radius:14px;
  padding:12px 14px; width:100%;
}
.msg.user .bubble{ background:transparent }

.role{ font-size:12px; color:var(--muted); margin-bottom:6px }
.content a{ color:var(--accent); text-decoration:underline; word-break:break-word }

/* Input dock */
.inputDock{
  padding:14px 0 20px; position:sticky; bottom:0;
  background:linear-gradient(180deg, rgba(0,0,0,0), var(--bg) 30%);
}
.inputRow{
  display:flex; align-items:center; gap:8px; border:1px solid var(--border);
  border-radius:16px; padding:8px; background:var(--card);
}
.inputRow textarea{
  flex:1; min-height:24px; max-height:160px; resize:vertical;
  border:none; outline:none; background:transparent; color:inherit; padding:8px 10px;
}
.iconBtn{
  width:40px; height:40px; border-radius:12px; display:flex; align-items:center; justify-content:center;
  background:var(--accent); color:var(--accent-ink); border:none; cursor:pointer; font-weight:700;
}
.iconBtn:disabled{ opacity:.5; cursor:not-allowed }

/* Markdown */
.markdown h1,.markdown h2,.markdown h3{ margin:12px 0 6px }
.markdown p{ margin:8px 0 }
.markdown ul, .markdown ol{ padding-left:22px; margin:8px 0 }
.markdown code{ background:rgba(255,255,255,.06); padding:2px 6px; border-radius:6px; }
